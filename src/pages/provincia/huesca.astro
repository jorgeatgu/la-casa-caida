---
import BaseLayout from '../../layouts/Layout.astro';
import { municipios } from '../../data/municipios';
import GraficaHistoricaPoblacion from '../../components/GraficaHistoricaPoblacion.astro';
import GraficaSaldoVegetativo from '../../components/GraficaSaldoVegetativo.astro';
import MunicipiosSection from '../../components/MunicipiosSection.astro';

const provincia = 'huesca';
const municipiosHuesca = municipios.filter(m => m.provincia === provincia);
---

<BaseLayout title="Huesca - La provincia del Pirineo">
  <section class="provincia-container">
    <section class="provincia-layout">
      <div class="section-text">
        <h1 class="provincia-titulo">Huesca</h1>
        <p class="header-ronda">
          <span class="header-ronda-text">Entre montañas y llanos, pueblos que resisten.</span>
          <span class="header-ronda-text">Cumbres blancas y valles verdes, testigos de la historia.</span>
          <span class="header-ronda-text">Memoria de gentes que no se rinden ante la despoblación,</span>
          <span class="header-ronda-text">tradiciones que perduran en cada rincón.</span>
        </p>

        <section class="intro">
          <p>Huesca es la provincia más septentrional de Aragón, marcada por el contraste entre la majestuosidad del Pirineo en el norte y las llanuras que se extienden hacia el sur. A pesar de contar con paisajes de indudable atractivo, la provincia no escapa al problema de la despoblación que afecta a gran parte de la España interior.</p>
        </section>
        <div class="datos-destacados">
          <div class="dato">
            <span class="dato-valor">14.5%</span>
            <span class="dato-descripcion">Disminución de población desde 1950</span>
          </div>
          <div class="dato">
            <span class="dato-valor">22.8%</span>
            <span class="dato-descripcion">Mayores de 65 años en 2023</span>
          </div>
          <div class="dato">
            <span class="dato-valor">13.2%</span>
            <span class="dato-descripcion">Menores de 18 años en 2023</span>
          </div>
        </div>
      </div>

      <section class="container-chart">
        <div class="chart-header section-text">
          <h2>Evolución de la población - Huesca</h2>
          <p>En la siguiente gráfica podemos ver cómo ha ido evolucionando la población total de la provincia de Huesca desde 1900 hasta 2024.</p>
          <span class="data">Los datos provienen de dos datasets diferentes. Censo de habitantes desde 1900 a 2011 disponible en Aragón Open Data. Los datos de 2024 son del INE.</span>
        </div>
        <GraficaHistoricaPoblacion provincia={provincia} />
      </section>

      <section class="container-chart">
        <div class="chart-header section-text">
          <h2>Saldo vegetativo - Huesca</h2>
          <p>El saldo vegetativo representa la diferencia entre nacimientos y defunciones, mostrando el crecimiento natural de la población sin considerar los movimientos migratorios.</p>
          <span class="data">Los datos son del IAEST.</span>
        </div>
        <GraficaSaldoVegetativo provincia={provincia} />
      </section>

      <MunicipiosSection municipios={municipiosHuesca} />

    </section>
  </section>
</BaseLayout>
