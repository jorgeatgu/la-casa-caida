const widthMobile=window.innerWidth>0?window.innerWidth:screen.width;function menu(){var e=document.querySelector(".overlay"),t=document.querySelector(".navegacion"),a=document.querySelector("body"),c=document.querySelectorAll(".navegacion-btn"),o=document.querySelector(".burger");function n(){o.classList.toggle("clicked"),e.classList.toggle("show"),t.classList.toggle("show"),a.classList.toggle("overflow")}for(document.querySelector(".burger").addEventListener("click",n),document.querySelector(".overlay").addEventListener("click",n),i=0;i<c.length;i++)c[i].addEventListener("click",function(){s()});function s(){e.classList.remove("show"),t.classList.remove("show"),o.classList.remove("clicked")}}const area=()=>{const e=24,t=16,a=24,c=64;let o=0,n=0;const s=d3.select(".area-comarcas"),r=s.select("svg"),i={};let l;const d=l=>{const d=s.node().offsetWidth;o=d-c-t,n=600-e-a,r.attr("width",d).attr("height",600);const u=`translate(${c},${e})`,m=r.select(".area-comarcas-container");m.attr("transform",u);const g=d3.area().x(e=>i.count.x(e.year)).y0(n).y1(e=>i.count.y(e.population)).curve(d3.curveCardinal.tension(.6));((e,t)=>{i.count.x.range([0,e]),i.count.y.range([t,0])})(o,n);const y=s.select(".area-comarcas-container-bis").selectAll(".area").data([l]),v=y.enter().append("path").attr("class","area");y.merge(v).transition().duration(600).ease(d3.easeLinear).attr("d",g),(e=>{const t=d3.axisBottom(i.count.x).tickFormat(d3.format("d")).ticks(13);e.select(".axis-x").attr("transform",`translate(0,${n})`).call(t);const a=d3.axisLeft(i.count.y).tickFormat(e=>e+" hab").ticks(5).tickSizeInner(-o);e.select(".axis-y").call(a)})(m)};window.addEventListener("resize",()=>{d(l)}),d3.csv("data/comarcas/teruel/total-arcos.csv",(e,t)=>{e?console.log(e):((l=t).forEach(e=>{e.population=e.population}),(()=>{const e=r.select(".area-comarcas-container");e.append("g").attr("class","axis axis-x"),e.append("g").attr("class","axis axis-y"),e.append("g").attr("class","area-comarcas-container-bis")})(),(()=>{const e=d3.scaleLinear().domain([d3.min(l,e=>e.year),d3.max(l,e=>e.year)]),t=d3.scaleLinear().domain([0,d3.max(l,e=>1.25*e.population)]);i.count={x:e,y:t}})(),d(l))})};area();