const line=()=>{const t=24,e=24,a=24,n=96;let s=0,o=0;const l=d3.select(".line-teruel"),c=l.select("svg"),r={};let i;var d=d3.formatDefaultLocale({decimal:",",thousands:".",grouping:[3]});d.format(",.3f");const u=i=>{const u=l.node().offsetWidth;s=u-n-e,o=600-t-a,c.attr("width",u).attr("height",600);const m="translate("+n+","+t+")",x=c.select(".line-teruel-container");x.attr("transform",m);const f=d3.line().x(t=>r.count.x(t.year)).y(t=>r.count.y(t.total)).curve(d3.curveBasis);((t,e)=>{r.count.x.range([0,t]),r.count.y.range([e,0])})(s,o);const g=l.select(".line-teruel-container-bis").selectAll(".line").data([i]),y=g.enter().append("path").attr("class","line").attr("stroke-width","1.5");g.merge(y).attr("d",f),(t=>{const e=d3.axisBottom(r.count.x).tickFormat(d3.format("d")).ticks(13);t.select(".axis-x").attr("transform","translate(0,"+o+")").call(e);const a=d3.axisLeft(r.count.y).tickFormat(d.format(",.0f")).ticks(5).tickSizeInner(-s);t.select(".axis-y").call(a)})(x)};window.addEventListener("resize",()=>{u(i)}),d3.csv("data/teruel/teruel-total.csv",(t,e)=>{t?console.log(t):((i=e).forEach(t=>{t.year=t.year,t.total=t.total}),console.log(i),(()=>{const t=c.select(".line-teruel-container");t.append("g").attr("class","axis axis-x"),t.append("g").attr("class","axis axis-y"),t.append("g").attr("class","line-teruel-container-bis")})(),(()=>{const t=d3.scaleTime().domain([d3.min(i,t=>t.year),d3.max(i,t=>t.year)]),e=d3.scaleLinear().domain([d3.min(i,t=>t.total/1.5),d3.max(i,t=>1.5*t.total)]);r.count={x:t,y:e}})(),u(i))})};line();