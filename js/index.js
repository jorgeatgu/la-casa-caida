function animation(){$(".header-title .letters").each(function(){$(this).html($(this).text().replace(/([^\x00-\x80]|\w)/g,"<span class='letter'>$&</span>"))}),anime.timeline().add({targets:".header-title .letter",translateY:[0,"1.5rem"],translateZ:0,duration:750,delay:anime.stagger(500)}).add({targets:".letter",translateY:["1.5rem","2rem"],translateZ:0,rotate:45,duration:750,delay:anime.stagger(1e3)})}animation();const line=()=>{const t=0,e=24,a=24,n=72;let s=0,r=0;const l=d3.select(".line-teruel"),i=l.select("svg"),o={};let c;var d=d3.formatDefaultLocale({decimal:",",thousands:".",grouping:[3]});d.format(",.3f");const m=c=>{const m=l.node().offsetWidth;s=m-n-e,r=550-t-a,i.attr("width",m).attr("height",550);const u="translate("+n+","+t+")",x=i.select(".line-teruel-container");x.attr("transform",u);const g=d3.line().x(t=>o.count.x(t.year)).y(t=>o.count.y(t.total)).curve(d3.curveBasis);((t,e)=>{o.count.x.range([0,t]),o.count.y.range([e,0])})(s,r);const f=l.select(".line-teruel-container-bis").selectAll(".line").data([c]),h=f.enter().append("path").attr("class","line").attr("stroke-width","1.5");f.merge(h).attr("d",g),(t=>{const e=d3.axisBottom(o.count.x).tickFormat(d3.format("d")).ticks(13);t.select(".axis-x").attr("transform","translate(0,"+r+")").call(e);const a=d3.axisLeft(o.count.y).tickFormat(d.format(",.0f")).ticks(6).tickSizeInner(-s);t.select(".axis-y").call(a)})(x)};window.addEventListener("resize",()=>{m(c)}),d3.csv("data/teruel/teruel-total.csv",(t,e)=>{t?console.log(t):((c=e).forEach(t=>{t.year=t.year,t.total=t.total}),console.log(c),(()=>{const t=i.select(".line-teruel-container");t.append("g").attr("class","axis axis-x"),t.append("g").attr("class","axis axis-y"),t.append("g").attr("class","line-teruel-container-bis")})(),(()=>{const t=d3.scaleTime().domain([d3.min(c,t=>t.year),d3.max(c,t=>t.year)]),e=d3.scaleLinear().domain([d3.min(c,t=>t.total/1.25),d3.max(c,t=>1.25*t.total)]);o.count={x:t,y:e}})(),m(c))})};line();